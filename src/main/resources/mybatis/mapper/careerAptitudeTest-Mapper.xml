<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="kr.or.ddit.pse.cat.service.impl.CareerAptitudeTestMapper">

	<insert id="testSave"
		parameterType="kr.or.ddit.pse.cat.service.TemporarySaveVO">
		INSERT INTO TEMPORARY_SAVE (
		TS_ID
		, MEM_ID
		, TS_CREATED_AT
		, TS_CONTENT
		, TS_TYPE
		) VALUES (
		(SELECT NVL(MAX(TS_ID),0)+1 FROM
		TEMPORARY_SAVE)
		, #{memId}
		, SYSDATE
		, #{tsContent}
		, #{tsType}
		)
	</insert>

	<select id="getSavingTest"
		resultType="kr.or.ddit.pse.cat.service.TemporarySaveVO"
		parameterType="kr.or.ddit.pse.cat.service.TemporarySaveVO">
		SELECT MEM_ID, TS_CONTENT
		FROM TEMPORARY_SAVE
		WHERE TS_TYPE = #{tsType} AND MEM_ID = #{memId}
	</select>
	
	<update id="delTempSaveTest" parameterType="kr.or.ddit.pse.cat.service.TemporarySaveVO">
		DELETE FROM TEMPORARY_SAVE WHERE MEM_ID = #{memId} AND TS_TYPE = #{tsType}
	</update>
	
</mapper>